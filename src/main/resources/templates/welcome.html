<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
</head>
<body>
<h1>Welcome! This is my CRUD app!</h1>
<h4>Click to get all users!</h4>
<a th:href="@{/admin}">Войти как админ</a>
<a th:href="@{/user}">Войти как пользователь</a>


<h1>Регистрация</h1>
<form th:method="post" th:action="@{/welcome}" th:object="${user}">
    <div>
        <label for="name">Введите имя пользователя:</label>
        <input type="text" th:field="*{name}" id="name"/>
        <div style="color:red" th:if="${#fields.hasErrors('name')}">
            <span th:each="error : ${#fields.errors('name')}"
                  th:text="${error}"></span>
        </div>
    </div>
    <div>
        <label for="age">Введите год рождения:</label>
        <input type="text" th:field="*{age}" id="age"/>
        <div style="color:red" th:if="${#fields.hasErrors('age')}">
            <span th:each="error : ${#fields.errors('age')}"
                  th:text="${error}"></span>
        </div>
    </div>
    <div>
        <label for="password">Введите пароль:</label>
        <input type="password" th:field="*{password}" id="password"/>
        <div style="color:red" th:if="${#fields.hasErrors('password')}">
            <span th:each="error : ${#fields.errors('password')}"
                  th:text="${error}"></span>
        </div>
    </div>

    <div>
        <label>Выберите роли:</label>
        <div>
            <input type="checkbox" th:field="*{roles}" th:value="'ROLE_ADMIN'" id="adminRole"/>
            <label for="adminRole">Admin</label>
        </div>
        <div>
            <input type="checkbox" th:field="*{roles}" th:value="'ROLE_USER'" id="userRole"/>
            <label for="userRole">User</label>
        </div>
    </div>

    <button type="submit">Sign up!</button>
</form>

</body>
</html>